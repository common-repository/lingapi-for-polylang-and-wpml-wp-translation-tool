(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&f.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={index:0},s=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="<?php echo plugin_dir_url(__FILE__);?>/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"18ff":function(e,t,r){},"49f8":function(e,t,r){var a={"./en.json":"edd4","./pl.json":"89b2"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="49f8"},"4fc8":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{ref:"app"},[r("v-dialog",{attrs:{scrollable:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({ref:"activator",attrs:{color:e.buttonColor,dark:""}},"v-btn",n,!1),a),[e._v(" "+e._s(e.$t("translate"))+" ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.$t("order_now")))]),r("v-divider"),r("v-card-text",[1==e.step?r("OrderForm",{attrs:{url:e.baseUrl,lang:e.lang,postId:e.postId},on:{evaluation:e.evaluation,success:e.successHandler,error:e.errorHandler}}):e._e(),2==e.step?r("OrderSummary",{attrs:{url:e.baseUrl,response:e.response},on:{success:e.successHandler,error:e.errorHandler}}):e._e()],1),r("v-divider"),r("v-card-actions",[r("div",{staticClass:"action-buttons"},[r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeAction}},[e._v(" "+e._s(e.$t("close"))+" ")]),2===e.step?r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.backAction}},[e._v(" "+e._s(e.$t("back"))+" ")]):e._e()],1)])],1)],1),r("v-snackbar",{attrs:{timeout:e.timeout,color:e.snackbarColor},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[r("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" "+e._s(e.$t("close"))+" ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" ")])],1)},s=[],o=(r("159b"),r("d3b7"),r("ddb0"),r("ac1f"),r("466d"),r("a925"));function i(){var e=r("49f8"),t={};return e.keys().forEach((function(r){var a=r.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var n=a[1];t[n]=e(r)}})),t}a["default"].use(o["a"]);var c=new o["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"<?php echo plugin_dir_url(__FILE__);?>/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"<?php echo plugin_dir_url(__FILE__);?>/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:i()}),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"12"}}),r("v-col",{attrs:{cols:"12",md:"12"}},[r("v-list-item",[r("v-list-item-content",[e.showProgressBar?r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):e._l(e.languageItems,(function(t,a){return r("v-list-item-title",{key:a},[e._v(" "+e._s(t.name)+" "),r("div",{staticClass:"order-group"},["order_now"===t.status?r("v-checkbox",{scopedSlots:e._u([{key:"label",fn:function(){return[r("span",{staticClass:"custom_input"},[e._v(e._s(e.$t("specialized")))])]},proxy:!0}],null,!0),model:{value:t.request.specialized,callback:function(r){e.$set(t.request,"specialized",r)},expression:"item.request.specialized"}}):e._e(),r("v-btn",{ref:"activator",refInFor:!0,attrs:{disabled:t.disabled,color:"primary"},on:{click:function(r){return e.submit(t.request,t.status,t.orderInfo,t.name)}}},[e._v(" "+e._s(e.$t(t.status))+" ")])],1)])}))],2)],1)],1),r("v-col",{attrs:{cols:"12",md:"12"}})],1),r("v-row",[r("v-spacer"),r("v-col",{staticClass:"circle-center",attrs:{cols:"12",md:"4"}}),r("v-spacer")],1)],1)],1)},u=[],d=r("1da1"),f=(r("96cf"),r("a9e3"),r("99af"),r("d81d"),r("b0c0"),r("4de4"),r("07ac"),r("7db0"),r("bc3a")),p=r.n(f),g=r("2e18"),v=r.n(g),m=r("2b49"),h=r.n(m);v.a.registerLocale(r("d13c")),v.a.registerLocale(r("1590")),h.a.registerLocale(r("337d")),h.a.registerLocale(r("a94c"));var _={name:"OrderForm",props:{url:{type:String,default:""},lang:{type:String,default:"Polish"},postId:{type:Number,default:1}},data:function(){return{valid:!1,categoryIsLoading:!1,categoryItems:[],languageIsLoading:!1,languageItems:{},response:{},searchCategory:null,required:[function(e){return!!e||c.t("required")}],showProgressBar:!0}},watch:{},methods:{errorHandler:function(e){this.color="error",this.message=this.$t(e),this.dialog=!1,this.snackbar=!0},submit:function(e,t,r,a){var n=this;if(this.$refs.form.validate()){this.showProgressBar=!0;var s=this.postId,o=Object.assign({},e,{postId:s});"order_now"==t?p.a.post("".concat(this.url,"?action=createTurbotranslateOrder"),JSON.stringify(o)).then((function(e){if(e.data.id){var t=Object.assign(e.data,{targetLangName:a});n.$emit("evaluation",t)}else n.$emit("error",e.data.message)})).catch((function(e){n.$emit("error",e)})):this.$emit("evaluation",r)}},searchLanguages:function(){var e=this;return p.a.get("".concat(this.url,"?action=getAvailablePairs&source=").concat(this.lang,"&post_id=").concat(this.postId)).then((function(t){e.languageItems=t.data.map((function(e){var t=e.lang_to,r=h.a.getAlpha2Code(t.name,"en"),a=h.a.getName(r,"pl");return{name:a||t.name,request:{category:40,specialized:!1,target_lang:{id:t.id}}}})),e.languageItems=e.languageItems.filter((function(e){return e.name.length>0}))})).catch((function(e){return console.log(e)}))},doesTranslationExists:function(){var e=this;return p.a.get("".concat(this.url,"?action=getPendingPost&id=").concat(this.postId)).then((function(t){for(var r=function(){var r=n[a];if(e.$set(r,"status","order_now"),!1!==t.data.status){var s=t.data.find((function(e){return r.request.target_lang.id==e.lang}));s&&(e.$set(r,"orderInfo",s),"finished"!=s.status?(e.$set(r,"status","in_progress"),e.$set(r,"disabled","disabled")):(e.$set(r,"status","finished"),e.$set(r,"disabled","disabled")))}},a=0,n=Object.values(e.languageItems);a<n.length;a++)r()})).catch((function(t){e.errorHandler(t)}))},btnText:function(e){e&&(this.status=this.$t(e))}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.searchLanguages();case 2:return t.next=4,e.doesTranslationExists();case 4:e.showProgressBar=!1;case 5:case"end":return t.stop()}}),t)})))()}},b=_,y=(r("c6a8"),r("2877")),w=Object(y["a"])(b,l,u,!1,null,"2cdb9e6e",null),k=w.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[e.response&&e.response.price?r("v-col",{attrs:{cols:"12",md:"12"}},[r("v-list",{attrs:{subheader:"","two-line":""}},[r("v-subheader",[e._v(e._s(e.$t("summary"))+e._s(e.response.targetLangName))]),e._l(Object.entries(e.response.price),(function(t){var a=t[0],n=t[1];return r("div",{key:a},[n.currency_amount_decimal?r("v-list-item",[r("v-list-item-content",[e._v(" "+e._s(e.$t(a,{rate:e.response.price.tax}))+" ")]),r("v-list-item-action",[e._v(" "+e._s(n.currency_amount_decimal)+" "+e._s(n.currency_code)+" ")])],1):e._e()],1)}))],2)],1):e._e(),r("v-row",[r("v-col",{staticClass:"circle-center",attrs:{cols:"12"}},[e.showProgressBar?r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.submit(e.response)}}},[e._v(" "+e._s(e.$t("request_order"))+" ")])],1)],1)],1)],1)],1)},$=[],I={name:"OrderSummary",props:{url:{type:String,default:""},response:{default:function(){}}},data:function(){return{valid:!1,showProgressBar:!1,targetLang:""}},methods:{submit:function(e){var t=this;this.showProgressBar=!0;var r=Number(e.id),a=JSON.stringify({orderId:r});p.a.post("".concat(this.url,"?action=completeTurboTranslateOrder"),a).then((function(e){200==e.data.code?t.$emit("success",e.data.message):t.$emit("error",e.data.message),t.showProgressBar=!1})).catch((function(e){t.$emit("error",e),t.showProgressBar=!1}))}}},x=I,z=(r("c81d"),Object(y["a"])(x,O,$,!1,null,"49cba162",null)),A=z.exports;h.a.registerLocale(r("337d")),h.a.registerLocale(r("a94c"));var C={name:"App",components:{OrderForm:k,OrderSummary:A},data:function(){return{dialogm1:"",dialog:!1,step:1,response:{},snackbar:!1,buttonColor:"primary",snackbarColor:"error",message:null,timeout:2e3,postId:null,lang:"Polish",baseUrl:"http://127.0.0.1:8000/wp-admin/admin-ajax.php",status:"",disabled:!1}},computed:{},methods:{evaluation:function(e){this.step=2,this.$set(this,"response",e)},successHandler:function(e){this.step=1,e&&(this.color="success",this.message=this.$t(e),this.dialog=!1,this.snackbar=!0)},errorHandler:function(e){this.step=1,e&&(this.color="error",this.message=this.$t(e),this.dialog=!1,this.snackbar=!0)},closeAction:function(){this.dialog=!1},backAction:function(){this.step=1}},mounted:function(){if(c.locale="pl",this.$refs.app.$el.closest(".turbotranslations-wrapper")){var e=this.$refs.app.$el.closest(".turbotranslations-wrapper").dataset,t=e.postId,r=e.languageName,a=e.baseUrl,n=e.languageI18n;this.code=h.a.getAlpha2Code(r,"en"),this.languageCode=h.a.getAlpha2Code(n,"en"),c.locale=this.languageCode,this.postId=t,this.baseUrl=a,this.lang=r}}},L=C,j=(r("034f"),Object(y["a"])(L,n,s,!1,null,null,null)),P=j.exports,N=r("2f62");a["default"].use(N["a"]);var E=new N["a"].Store({state:{},mutations:{},actions:{},modules:{}}),S=r("ce5b"),F=r.n(S);r("bf40");a["default"].use(F.a);var T=new F.a({theme:{themes:{light:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}});r("d5e8"),r("5363");a["default"].config.productionTip=!1;var B=document.querySelectorAll(".turbotranslations-modals");Array.prototype.forEach.call(B,(function(e){new a["default"]({store:E,vuetify:T,i18n:c,render:function(e){return e(P)}}).$mount(e)}))},"85ec":function(e,t,r){},"89b2":function(e){e.exports=JSON.parse('{"order_now":"Zleć wycenę","draft":"Zobacz szczegóły","acceptation":"Oczekuje na tłumaczenie","in_analisys":"W trakcie analizy","awaiting_for_acceptation":"Oczekuję na zatwierdzenie","finished":"Zakończono","translate":"Przetłumacz","in_progress":"W trakcie","choose_category":"Wybierz kategorię","no_data_available":"Brak danych","choose_language":"Wybierz docelowy język","specialized":"Tłumaczenie specjalistyczne","close":"Zamknij","request_order":"Zamów tłumaczenie","net":"Cena netto","vat":"Podatek VAT ({rate})","gross":"Cena brutto","summary":"Podsumowanie tłumaczenia na: ","words":"Liczba słow","INVALID_ACCOUNT_BALANCE":"Niewystarczająca liczba środków na koncie","required":"Pole jest wymagane"}')},c6a8:function(e,t,r){"use strict";r("4fc8")},c81d:function(e,t,r){"use strict";r("18ff")},edd4:function(e){e.exports=JSON.parse('{"order_now":"Order Now","draft":"Details","acceptation":"Waiting for translation","in_analisys":"In analisys","in_progress":"In progress","translate":"Translate","awaiting_for_acceptation":"Awaiting for acceptation","finished":"Finished","choose_category":"Choose category","no_data_available":"No data avaiable","choose_language":"Choose language","specialized":"Specialized transtale","close":"Close","request_order":"Order translate","net":"Net price","vat":"Tax VAT({rate})","gross":"Gross price","summary":"Summary - translation to: ","words":"Words count","INVALID_ACCOUNT_BALANCE":"Insufficient funds on account","required":"Field required"}')}});
//# sourceMappingURL=index.e6ec7bb6.js.map